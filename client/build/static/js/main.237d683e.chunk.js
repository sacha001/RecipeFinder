(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{55:function(e,t,n){"use strict";n.r(t);var i=n(3),s=n(0),a=n.n(s),r=n(10),c=n.n(r),o=n(16),l=n(91),d=n(89),u=n(92),j=n(87),p=n(90),g=n(82),h=n(37),b=Object(h.a)({palette:{primary:{500:"#890000"}}}),m=n(57),O=n(93),f=n(81),x=n(36),v=n.n(x),y=n(95),N="";function I(e){var t=R(),n=Object(s.useState)(""),a=Object(o.a)(n,2),r=a[0],c=a[1],l=!1;return Object(i.jsx)("form",{onSubmit:function(t){if(t.preventDefault(),""!==r&&!l&&N!==r){l=!0,e.setApiResponse("loading"),N=r;var n=r.replace(RegExp(/,\s+/,"g"),",");fetch("http://localhost:5000/spoonacularAPI/findByIngredients?ingredients=".concat(n)).then((function(e){return e.json()})).then((function(t){l=!1,200===t.statusCode&&t.body?e.setApiResponse(JSON.parse(t.body)):e.setApiResponse({})}),(function(e){l=!1,console.error(e)}))}},children:Object(i.jsxs)(m.a,{className:t.root,children:[Object(i.jsx)(O.a,{className:t.input,placeholder:"Search Ingredients",inputProps:{"aria-label":"search ingredients"},onChange:function(e){c(e.target.value)},value:r}),Object(i.jsx)(f.a,{type:"submit",className:t.iconButton,"aria-label":"search",children:Object(i.jsx)(v.a,{})})]})})}var R=Object(g.a)((function(e){return Object(y.a)({root:{padding:"2px 4px",display:"flex",alignItems:"center",width:400},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}})})),S=n(83),w=n(84),A=n(85),E=n(86),B=n(94);function C(e){var t,n=F();return t=e.missingIngredients?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("span",{className:n.ingredientsMissing,children:"Missing: "}),Object(i.jsx)("span",{className:n.ingredientsList,children:e.missingIngredients})]}):Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("span",{className:n.ingredientsAll,children:"You have all the ingredients!"})}),Object(i.jsx)(B.a,{direction:"up",mountOnEnter:!0,unmountOnExit:!0,in:!0,style:{transitionDelay:"".concat(e.transitionDelayMs,"ms")},children:Object(i.jsx)(S.a,{className:n.root,onClick:function(){return e.getAndSetLinks(e.index)},children:Object(i.jsxs)(w.a,{children:[Object(i.jsx)(A.a,{className:n.media,image:e.imageUrl,title:e.title}),Object(i.jsxs)(E.a,{children:[Object(i.jsx)(j.a,{gutterBottom:!0,variant:"h6",children:e.title}),Object(i.jsx)(j.a,{variant:"subtitle2",children:t})]})]})})})}var F=Object(g.a)((function(e){return{root:{margin:e.spacing(3),width:345},media:{height:140},ingredientsAll:{color:e.palette.success.main},ingredientsMissing:{color:e.palette.warning.main,opacity:.75},ingredientsList:{color:e.palette.text.secondary}}})),k=n(88);function L(e){var t,n,a=Object(s.useState)(),r=Object(o.a)(a,2),c=r[0],l=r[1],u=!1;function j(e){u||(0===n.length?(u=!0,fetch("http:/localhost:5000/spoonacularAPI/informationBulk?ids=".concat(t.join(","))).then((function(e){return e.json()})).then((function(t){u=!1,200===t.statusCode&&t.body?(!function(e){var t=[];e.forEach((function(e){t.push(e.sourceUrl)})),n=t}(JSON.parse(t.body)),window.open(n[e])):console.error("server error")}),(function(e){u=!1,console.error("server error")}))):window.open(n[e]))}return Object(s.useEffect)((function(){if("loading"===e.apiResponse)l([Object(i.jsx)(k.a,{})]);else if(e.apiResponse&&0!==Object.keys(e.apiResponse).length){var s=[];t=[],n=[];var a=0,r=0;e.apiResponse.forEach((function(e){var n,c=(n=(n=e.title).trim(),(new DOMParser).parseFromString(n,"text/html").documentElement.textContent||""),o=function(e){var t="";return e.forEach((function(e){t+=e.name+", "})),t.substring(0,t.length-2)}(e.missedIngredients);t.push(e.id),s.push(Object(i.jsx)(C,{title:c,imageUrl:e.image,index:r,missingIngredients:o,getAndSetLinks:j,transitionDelayMs:a})),a+=50,r++})),l(s)}else l([])}),[e.apiResponse]),Object(i.jsx)(d.a,{container:!0,spacing:3,justify:"center",children:c})}function M(){var e=Object(s.useState)({}),t=Object(o.a)(e,2),n=t[0],a=t[1],r=D();return Object(i.jsxs)(p.a,{theme:b,children:[Object(i.jsx)(l.a,{}),Object(i.jsx)(u.a,{children:Object(i.jsxs)(d.a,{container:!0,className:r.grid,alignItems:"center",direction:"column",children:[Object(i.jsx)(j.a,{variant:"h2",children:"Recipe Finder"}),Object(i.jsx)(j.a,{className:r.subtitle,gutterBottom:!0,variant:"subtitle1",children:"Enter your ingredients below (comma seperated) to search recipes:"}),Object(i.jsx)("div",{className:r.searchbar,children:Object(i.jsx)(I,{setApiResponse:a})}),Object(i.jsx)(L,{apiResponse:n})]})})]})}var D=Object(g.a)((function(e){return{grid:{"padding-top":"50px"},subtitle:{"padding-bottom":"10px"},searchbar:{"padding-bottom":"20px"}}})),P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,96)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),i(e),s(e),a(e),r(e)}))};c.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(M,{})}),document.getElementById("root")),P()}},[[55,1,2]]]);
//# sourceMappingURL=main.237d683e.chunk.js.map