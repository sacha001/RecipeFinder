language: node_js

node_js:
  - 12

services:
  - docker

before_script:
  - cd server
  - npm install mocha chai request

after_success:
  - docker login -u $DOCKER_USER -p $DOCKER_PASS
  - docker-compose push $TRAVIS_REPO_SLUG:latest